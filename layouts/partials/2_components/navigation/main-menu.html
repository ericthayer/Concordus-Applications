<nav class="navbar navbar-inverse navbar-toggleable-md main-menu" role="navigation">
  <div class="container">
    {{ partial "1_elements/site-title.html" . }}
    {{ partial "1_elements/main-menu-toggle.html" . }}
    <div class="collapse navbar-collapse" id="main-menu" role="navigation">
      <ul class="navbar-nav ml-a">
        {{ $currentPage := . }}
        {{ range .Site.Menus.main }}
        {{ if .HasChildren }}
        <li class="nav-item dropdown{{if $currentPage.IsMenuCurrent " main " . }} active{{end}}">
          <a id="{{ .Name }}-dropdown" class="nav-link dropdown-toggle" href="#0" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            {{ .Pre }}
            {{ .Name }}
          </a>
          <div class="dropdown-menu" aria-labelledby="{{ .Name }}-dropdown">
            {{ range .Children }}
            <a class="dropdown-item{{if $currentPage.IsMenuCurrent " main " . }} active{{end}}" href="{{.URL}}">
              {{ .Pre }}
              {{ .Name }}
            </a>
            {{ end }}
          </div>
        </li>
        {{ else }}
        <li class="nav-item{{if $currentPage.IsMenuCurrent " main " . }} active{{end}}">
          <a class="nav-link" href="{{.URL}}">
            {{ .Pre }} 
            {{ .Name }} 
            {{if $currentPage.IsMenuCurrent "main" . }}
              <span class="sr-only">current page</span>
            {{ end }}
          </a>        
        </li>
        {{ end }}
        {{ end }}
        <li class="nav-item">
          <a class="nav-link" href="#0" data-toggle="modal" data-target="#demo-modal">Demo</a>
        </li>
      </ul>
    </div>
  </div>
</nav>